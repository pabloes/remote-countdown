<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script src="bundle.js"></script>
    <link href="stylesheets/main.css" rel="stylesheet" />
</head>
<body id="body" ng-app="godmodoro" >
<div class="body-wrapper" ng-controller="godmodoro as godmodoro">
    <div id="main">
        <clock
                ng-if="godmodoro.getConnectionState().activeSessionId"
                editable="godmodoro.getConnectionState().sessionOwner"
                on-countdown="godmodoro.startTimer(seconds)"
                on-pause="godmodoro.pause()"
                on-resume="godmodoro.resume()"
                initial-server-date="godmodoro.initialServerDate"
                countdown-data="godmodoro.countdownData"
                pauses="godmodoro.pauses"
        ></clock>
    </div>
    <div class="control-wrapper table">
        <div id="server" class="table-row">
            <div class="table-cell">
                <input ng-click="godmodoro.connect(model.host)" ng-disabled="!model.host || godmodoro.getConnectionState().connecting" ng-show="!godmodoro.getConnectionState().connected" id="button-connect" class="control" type="button" value="{{godmodoro.getConnectionState().connecting?'Connecting':'Connect'}}"/>
                <input ng-click="godmodoro.disconnect(model.host)" ng-show="godmodoro.getConnectionState().connected" id="button-disconnect" class="control" type="button" value="Disconnect"/>
            </div>
            <div class="table-cell">
                <!-- <input id="text-server-host" class="control" type="text" value="ws://localhost:5000"/>-->
                <input ng-disabled="godmodoro.getConnectionState().connected || godmodoro.getConnectionState().connecting" id="text-server-host" ng-model="model.host" class="control" type="text" />
            </div>
        </div>
        <div class="table-row" ng-show="godmodoro.getConnectionState().connected && (godmodoro.getConnectionState().sessionOwner || !godmodoro.getConnectionState().activeSessionId)">
            <div class="table-cell">
                <input ng-click="godmodoro.createSession(godmodoro.sessionToCreate)"
                       ng-hide="godmodoro.getConnectionState().activeSessionId"
                       ng-disabled="godmodoro.getConnectionState().creating"
                       id="button-create-session" class="control" type="button"
                       value="{{godmodoro.getConnectionState().creating?'Creating session':'Create session'}}"/>
                <input type="button" ng-click="godmodoro.closeSession()" ng-show="godmodoro.getConnectionState().activeSessionId" value="Close session" />
            </div>
            <div class="table-cell">
                <input ng-model="godmodoro.sessionToCreate" id="text-create-session" class="control" type="text" ng-disabled="godmodoro.getConnectionState().activeSessionId" />
            </div>
        </div>
        <div class="table-row" ng-show="godmodoro.getConnectionState().connected && !godmodoro.getConnectionState().sessionOwner" >
            <div class="table-cell">
                <input ng-hide="godmodoro.getConnectionState().activeSessionId" ng-click="godmodoro.joinSession(model.sessionToJoin)"
                       id="button-join-session" class="control" type="button"
                       value="{{godmodoro.getConnectionState().joining?'Joining':'Join session'}}"
                       ng-disabled="godmodoro.getConnectionState().joining"
                />
                <input ng-show="godmodoro.getConnectionState().activeSessionId" ng-click="godmodoro.leaveSession()" id="button-leave-session" class="control" type="button" value="Leave session"/>
            </div>
            <div class="table-cell">
                <input ng-disabled="godmodoro.getConnectionState().activeSessionId" ng-model="model.sessionToJoin" id="text-join-session" class="control" type="text"/>
            </div>
        </div>
    </div>
</div>
</body>
</html>